<html>

<title>
CS 381/722 Assignment 4 Solutions
</title>

<body>

<center>
<h3>
CS 381/722 &nbsp;&nbsp; Fall 2018
<br>
Homework Assignment #4
<br>
Solutions
</center>

<ol>
<li>
Let
<blockquote>
&psi;(x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>) =
(&not;x<sub>1</sub> &or; x<sub>2</sub>) &and;
(x<sub>1</sub> &or; &not;x<sub>2</sub>) &and;
(x<sub>1</sub> &or; &not;x<sub>2</sub> &or; x<sub>3</sub>) &and;
(x<sub>2</sub> &or; &not;x<sub>3</sub>)
</blockquote>

<ol type=a>
<li>
Give an evaluation tree for &psi; by assigning x<sub>i</sub> = 0 and 1, 1 &le; i &le; 3.

<br><br>
Formula simplification is applied in each step and evaluation is terminated as soon as the value is determined.
<br>
<img src="assign-4-sol-Q1.jpeg" height=450 width=630>
<br>
<li>
Evaluate each of the following formulas and determine which player (E or A) has a winning strategy.
Justify your answers.
<br><br>
  <ol type=i>
  <li>&exist;x<sub>1</sub>&forall;x<sub>2</sub>&exist;x<sub>3</sub>&psi;(x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>)
      <br><br>
      A has a winning strategy.
      <br>
      If E selects x<sub>1</sub>=0, A selects x<sub>2</sub>=1 and &psi; evaluates to 0.
      <br>
      If E selects x<sub>1</sub>=1, A selects x<sub>2</sub>=0 and &psi; evaluates to 0.
      <br>
      Hence &exist;x<sub>1</sub>&forall;x<sub>2</sub>&exist;x<sub>3</sub>&psi;(x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>)
      is false.
  <br><br>
  <li>&forall;x<sub>1</sub>&exist;x<sub>2</sub>&forall;x<sub>3</sub>&psi;(x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>)
      <br><br>
      A has a winning strategy.
      <br>
      A selects x<sub>1</sub>=0.
      <br>
      If E selects x<sub>2</sub>=0, A selects x<sub>3</sub>=1 and &psi; evaluates to 0.
      <br>
      If E selects x<sub>2</sub>=1, &psi; evaluates to 0.
      <br>
      Hence &forall;x<sub>1</sub>&exist;x<sub>2</sub>&forall;x<sub>3</sub>&psi;(x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>)
      is false.
  </ol> 
</ol>
<br>

<li>
Study GENERALIZED GEOGRAPHY in &sect;8.3 of the book, especially the polynomial-time reduction from
FORMULA-GAME to GENERALIZED GEOGRAPHY.
Recall that FORMULA-GAME is a 2-player game interpretation of TQBF.
For each of the formulas (i) and (ii) in Question 1, (b),
answer the following questions:

<br><br>

<ol type=a>
<li>
Give the directed graph generated from the formula by the polynomial-time reduction.
<br><br>
The directed graphs are shown below.
<br><br>
<li>
Give an assignment for x<sub>i</sub>, 1 &le; i &le; 3, that is an instance of a winning strategy for
the formula, and show the corresponding path selected by players I and II in the graph.
Mark the edges of the path by "I" or "II" according as they are selected by player I or II, respectively.
<br><br>
(i) &exist;x<sub>1</sub>&forall;x<sub>2</sub>&exist;x<sub>3</sub>&psi;(x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>)
<br><br>
An instance of A's (II's) winning strategy is x<sub>1</sub>=0, x<sub>2</sub>=1.
Endgame: II goes to the false clause node c<sub>2</sub> from c.
No matter which literal x<sub>1</sub> or &not;x<sub>2</sub> I goes to from c<sub>2</sub>,
II can go to an unvisited node to force a win.
<br><br>
<img src="assign-4-sol-Q2-1.svg" width=795>
<br><br>
(ii) &forall;x<sub>1</sub>&exist;x<sub>2</sub>&forall;x<sub>3</sub>&psi;(x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>)
is expanded to
&exist;x<sub>0</sub>&forall;x<sub>1</sub>&exist;x<sub>2</sub>&forall;x<sub>3</sub>&exist;x<sub>4</sub>&psi;(x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>)
by adding dummy quantifiers &exist;x<sub>0</sub> and &exist;x<sub>4</sub>.
<br><br>
An instance of A's (II's) winning strategy is x<sub>1</sub>=0, x<sub>2</sub>=0, x<sub>3</sub>=1.
The values of x<sub>0</sub> and x<sub>4</sub> are immaterial as they are dummy variables.
Endgame: II goes to the false clause node c<sub>4</sub> from c.
No matter which literal x<sub>2</sub> or &not;x<sub>3</sub> I goes to from c<sub>4</sub>,
II can go to an unvisited node to force a win.
<br><br>
<img src="assign-4-sol-Q2-2.svg" width=830>
</ol>
<br>

<li>
Consider the limited version of TQBF where the number of universal quantifiers in each input formula is
at most a <i>finite constant k</i> independent of the size of the input formula.
Let us call this problem TQBF-const&forall;.
Prove that TQBF-const&forall; &isin; NPC.
Hint: Find a polynomial-time reduction from TQBF-const&forall; to SAT that eliminates
all universal quantifiers.

<br><br>

Let &Phi; be the given input QBF.
The following is the reduction that eliminates all universal quantifiers in &Phi;.
First, drop all existential quantifiers in &Phi;.
Then successively eliminate the universal quantifiers from left to right by converting
&forall;x<sub>i</sub>&Phi;(&hellip;, x<sub>i</sub>, &hellip;) into
&Phi;(&hellip;, 0, &hellip;) &and;
&Phi;(&hellip;, 1, &hellip;),
that is, by substituting 0 and 1 for x<sub>i</sub> and forming the conjunction of the resulting two formulas.
The existentially quantified variables following &forall;x<sub>i</sub> in
the list of quantifiers in
the original &Phi;,
along with the variables that renamed them previously,
are renamed to fresh variables in one of the two conjunctions.
Let &Phi;&prime; be the final formula obtained.
It holds that &Phi; is true iff &Phi;&prime; is satisfiable since
&exist;x<sub>i</sub>&Phi;(&hellip;, x<sub>i</sub>, &hellip;) is true iff
there is an assignment to x<sub>i</sub> that makes &Phi;(&hellip;, x<sub>i</sub>, &hellip;) true,
and &forall;x<sub>i</sub>&Phi;(&hellip;, x<sub>i</sub>, &hellip;) is true iff
&Phi;(&hellip;, x<sub>i</sub>, &hellip;) is true for both x<sub>i</sub>=0 and x<sub>i</sub>=1.
Renaming of the existentially quantified variables following &forall;x<sub>i</sub> is necessary because
they become independent of each other in 
&Phi;(&hellip;, 0, &hellip;) and
&Phi;(&hellip;, 1, &hellip;).
<br><br>
Let n be the size of the given QBF &Phi; and m be the # of universal quantifiers in it.
The size of &Phi; is doubled each time a universal quantifier is eliminated.
Hence the size of &Phi;&prime; is in the order of 2<sup>m</sup>n.
Since m &le; k where k is a constant, it is at most in the order of 2<sup>k</sup>n where
2<sup>k</sup> is a constant.
The size increase in converting &Phi; into &Phi;&prime; is therefore a constant factor, and so
the above reduction runs in polynomial time.

<br><br>

We have shown TQBF-const&forall; &le;<sub>p</sub> SAT.
By Theorem 6: A &le;<sub>p</sub> B and B &isin; NP implies A &isin; NP,
TQBF-const&forall; &isin; NP.
It also holds that SAT &le;<sub>p</sub> TQBF-const&forall; due to the polynomial-time reduction
&phi;(x<sub>1</sub>, &hellip;, x<sub>p</sub>) &rarr;
&exist;x<sub>1</sub> &middot;&middot;&middot; &exist;x<sub>p</sub>&phi;(x<sub>1</sub>, &hellip;, x<sub>p</sub>).
Thus TQBF-const&forall; &isin; NPC.

<br><br>

<li>
Consider the log-space reduction used in the proof of PATH &isin; NL-Complete.
Modify this reduction so that it generates an <i>undirected</i> graph G, that is,
the reduction generates an <i>undirected</i> edge between C<sub>1</sub> and C<sub>2</sub> iff
C<sub>1</sub> |&minus;<sub>M</sub> C<sub>2</sub>.
Is this a valid reduction proving that the path problem for undirected graphs is NL-Complete?
Justify your answer.

<br><br>

It is not a valid reduction.
There may be an edge between C<sub>1</sub> and C<sub>2</sub> even if
C<sub>1</sub> |&minus;<sub>M</sub> C<sub>2</sub> does not hold,
so the if-part of the equivalence condition,
C<sub>start</sub> |&minus;<sup>*</sup> C<sub>accept</sub> iff
there is a path from C<sub>start</sub> to C<sub>accept</sub>,
breaks down.
For example consider the following transitions:
<pre>
	C<sub>1</sub> &rarr; C<sub>2</sub> &rarr; C<sub>3</sub> &rarr; C<sub>accept</sub>
	          &darr;
     C<sub>start</sub> &rarr; C<sub>4</sub> &rarr; C<sub>5</sub>
</pre>
If the directed edges are replaced by undirected edges,
there is a path from C<sub>start</sub> to C<sub>accept</sub> even though
C<sub>start</sub> |&minus;<sup>*</sup> C<sub>accept</sub>
does not hold.
It is easy to devise a simple NTMR with such transitions.

<br><br>

Note: It has been proved that the path problem for undirected graphs is in L &ndash;
reference [62] in the textbook.
It is therefore unlikely that this problem is NL-Complete;
if it is NL-Complete, L = NL holds.

</ol>

</body>
</html>
